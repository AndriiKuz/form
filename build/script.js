const a=document.forms.form;a.elements.button;const t=Array.from(a),s=[];t.forEach(t=>{t.hasAttribute("data-reg")&&(t.setAttribute("is-valid","0"),s.push(t))}),a.addEventListener("input",function({target:t}){t.hasAttribute("data-reg")&&!function(t){const e=t.value,r=t.getAttribute("data-reg"),a=new RegExp(r);a.test(e)?(t.style.border="2px solid rgb(0, 196, 0)",t.setAttribute("is-valid","1")):(t.style.border="2px solid rgb(255, 0, 0)",t.setAttribute("is-valid","0"))}(t)}),a.addEventListener("submit",function(t){t.preventDefault();const e=[],r=(s.forEach(t=>{e.push(t.getAttribute("is-valid"))}),e.reduce((t,e)=>t&&e));Boolean(Number(r))?async function(){a;const t=new FormData(a),e=await async function(t){return fetch("mail.php",{method:"POST",body:t})}(t);{var r;e.ok?(r=await e.json(),alert(r.message),a.reset(),s.forEach(t=>{t.setAttribute("is-valid",0),t.style.border="none"})):alert("Код помилки: "+e.status)}}():alert("Заповніть поля правильно!")});